import{f as v,i as y}from"./vendor-651d7991.js";const b=document.querySelector("#datetime-picker"),n=document.querySelector("[data-start]"),p=document.querySelector("[data-days]"),I=document.querySelector("[data-hours]"),S=document.querySelector("[data-minutes]"),k=document.querySelector("[data-seconds]");let o=!1;const c=v(b,{enableTime:!0,time_24hr:!0,defaultDate:new Date,onClose:function(e){const t=e[0];d&&d.stop(),t>new Date?(n.disabled=!1,o=!1):(n.disabled=!0,o=!0,a("Please choose a date in the future"))}});function i(e){return e.toString().padStart(2,"0")}function u({days:e,hours:t,minutes:r,seconds:s}){p.textContent=`${i(e)}`,I.textContent=`${i(t)}`,S.textContent=`${i(r)}`,k.textContent=`${i(s)}`}function a(e){y.show({message:e,messageColor:"#fff",position:"topRight",backgroundColor:"#ef4040",animateInside:!1,color:"#fff"})}class D{constructor(t){this.tick=t,this.isActive=!1,this.intervalId=null}onInterval(){const t=Date.now(),r=this.targetDate-t,s=this.convertMs(r);this.tick(s),s.days===0&&s.hours===0&&s.minutes===0&&s.seconds===0&&this.stop()}start(t){return t?t<=new Date?(a("Please choose a date in the future"),!1):(this.isActive||(this.isActive=!0,this.targetDate=t,this.onInterval(),this.intervalId=setInterval(()=>{this.onInterval()},1e3)),!0):(a("Please select a valid date before starting the timer"),!1)}stop(){this.isActive&&(this.isActive=!1,clearInterval(this.intervalId),n.disabled=!1,o=!1,c.input.disabled=!1,u({days:0,hours:0,minutes:0,seconds:0}))}convertMs(t){const l=Math.floor(t/864e5),f=Math.floor(t%864e5/36e5),h=Math.floor(t%864e5%36e5/6e4),m=Math.floor(t%864e5%36e5%6e4/1e3);return{days:l,hours:f,minutes:h,seconds:m}}}const d=new D(u);n.addEventListener("click",()=>{if(o){a("Button is disabled"),n.disabled=!0;return}const e=c.selectedDates[0];d.start(e)&&(n.disabled=!0,o=!0,c.input.disabled=!0)});
//# sourceMappingURL=1-timer-cb2d0ef5.js.map
