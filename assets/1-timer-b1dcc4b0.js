import{f as h,i as n}from"./vendor-22bbdd8b.js";const m=document.querySelector("#datetime-picker"),o=document.querySelector("[data-start]"),v=document.querySelector("[data-days]"),g=document.querySelector("[data-hours]"),p=document.querySelector("[data-minutes]"),y=document.querySelector("[data-seconds]"),T=h(m,{enableTime:!0,time_24hr:!0,dateFormat:"Y-m-d H:i",defaultDate:new Date,onClose:function(e){e[0]>new Date?o.disabled=!1:(o.disabled=!0,n.show({message:"Please choose a date in the future",messageColor:"#fff",position:"topRight",backgroundColor:"#ef4040",animateInside:!1,color:"#fff"}))}});function a(e){return e.toString().padStart(2,"0")}function D({days:e,hours:t,minutes:s,seconds:i}){v.textContent=`${a(e)}`,g.textContent=`${a(t)}`,p.textContent=`${a(s)}`,y.textContent=`${a(i)}`,e===0&&t===0&&s===0&&i===0&&c.stop()}class k{constructor(t){this.tick=t,this.isActive=!1,this.lastTime=0,this.intervalId=null}start(t){if(!t){n.error({message:"Please select a valid date before starting the timer",messageColor:"#fff",position:"topRight",backgroundColor:"#ef4040",animateInside:!1,color:"#fff"});return}this.isActive||(this.isActive=!0,this.targetDate=t,this.intervalId=setInterval(()=>{const s=Date.now(),i=this.targetDate-s,r=this.convertMs(i);this.tick(r),o.disabled=!0},1e3))}pause(){this.isActive&&(this.lastTime=Date.now()-this.targetDate+this.lastTime,this.isActive=!1,clearInterval(this.intervalId))}stop(){this.isActive&&(this.lastTime=0,this.isActive=!1,clearInterval(this.intervalId))}convertMs(t){const d=Math.floor(t/864e5),l=Math.floor(t%864e5/36e5),u=Math.floor(t%864e5%36e5/6e4),f=Math.floor(t%864e5%36e5%6e4/1e3);return{days:d,hours:l,minutes:u,seconds:f}}}const c=new k(D);o.addEventListener("click",()=>{o.disabled=!0;const e=T.selectedDates[0];c.start(e)});
//# sourceMappingURL=1-timer-b1dcc4b0.js.map
